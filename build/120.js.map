{"version":3,"sources":["../../src/addon/evaluate/pages/input-info/input-info.module.ts","../../src/addon/evaluate/pages/input-info/input-info.ts"],"names":[],"mappings":"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","file":"120.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreCoursesComponentsModule } from '@core/courses/components/components.module';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CorePipesModule } from '@pipes/pipes.module';\nimport { AddonEvaluateInputInfoPage } from './input-info';\n@NgModule({\n    declarations: [\n        AddonEvaluateInputInfoPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule,\n        CoreCoursesComponentsModule,\n        IonicPageModule.forChild(AddonEvaluateInputInfoPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class AddonEvaluateInputInfoPagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/evaluate/pages/input-info/input-info.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Component, ViewChild, OnDestroy, OnInit } from '@angular/core';\nimport { IonicPage, Searchbar, NavController, AlertController, NavParams } from 'ionic-angular';\nimport { CoreCoursesProvider } from '@core/courses/providers/courses';\nimport { CoreDomUtilsProvider } from '@providers/utils/dom';\nimport { CoreUtilsProvider } from '@providers/utils/utils';\nimport { CoreSitesProvider } from '@providers/sites';\nimport { CoreEventsProvider } from '@providers/events';\nimport { DataService } from '@providers/data.service';\nimport { CoreAppProvider } from '@providers/app';\nimport { AddonBlockTimelineProvider } from '@addon/block/timeline/providers/timeline';\nimport { CoreCourseHelperProvider } from '@core/course/providers/helper';\nimport { CoreCourseOptionsDelegate } from '@core/course/providers/options-delegate';\nimport * as moment from 'moment';\nimport { CoreTabsComponent } from '@components/tabs/tabs';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AddonEvaluateProvider } from '../../providers/evaluate';\nimport { TranslateService } from '@ngx-translate/core';\n\n\n\n/**\n * Page that displays the list of calendar events.\n */\n@IonicPage({ segment: 'addon-evaluate-input-info' })\n@Component({\n    selector: 'page-addon-evaluate-input-info',\n    templateUrl: 'input-info.html',\n})\nexport class AddonEvaluateInputInfoPage implements OnInit, OnDestroy {\n    @ViewChild(CoreTabsComponent) tabsComponent: CoreTabsComponent;\n    @ViewChild('searchbar') searchbar: Searchbar;\n    credForm: FormGroup;\n    pageLoaded = false;\n    siteName: string;\n    siteUrl: string;\n    evaluateCode: string;\n    protected evaluateProvider: AddonEvaluateProvider;\n    boxClass = '';\n    scanSub: any;\n\n    protected prefetchIconsInitialized = false;\n    protected isDestroyed;\n    protected updateSiteObserver;\n    protected courseIds = '';\n    \n    constructor(private domUtils: CoreDomUtilsProvider,\n            private coursesProvider: CoreCoursesProvider, private utils: CoreUtilsProvider,\n            private myOverviewProvider: AddonBlockTimelineProvider, private sitesProvider: CoreSitesProvider,\n            private courseHelper: CoreCourseHelperProvider, private courseOptionsDelegate: CoreCourseOptionsDelegate,\n            private eventsProvider: CoreEventsProvider, private navCtrl: NavController, appProvider: CoreAppProvider, \n            evaluateProvider: AddonEvaluateProvider,fb: FormBuilder,private translate: TranslateService,\n            public alertController: AlertController,  navParams: NavParams, private data: DataService) {\n        \n        this.evaluateProvider = evaluateProvider;\n        this.loadSiteInfo();\n        this.credForm = fb.group({\n            coursecode: ['', Validators.required],\n            fullname: [''],\n            email: [''],\n            cmnd: ['']\n        });\n        this.boxClass = 'box box-bg';\n        this.evaluateCode =  navParams.get('evaluateCode');\n        this.credForm.controls['coursecode'].setValue(this.evaluateCode);  \n\n        // this.events.subscribe('scanner:evaluateCode',(evaluateCode)=>{\n        //     console.log(evaluateCode);\n        //     this.credForm.controls['coursecode'].setValue(evaluateCode);  \n        // });\n    }\n\n    /**\n     * View loaded.\n     */\n    ionViewDidLoad(): void {\n        // if (window['globalVariable'] && window['globalVariable'].evaluateCode) {\n        //     // console.log(window['globalVariable'])\n        //     this.credForm.controls['coursecode'].setValue(window['globalVariable'].evaluateCode);  \n        //     window['globalVariable'].evaluateCode = '';\n        // }\n        // this.data.currentMessage.subscribe( (message) => {\n        //     console.log(message);\n\n        // });\n        if (this.data.getOrigin() == 'scanner') {\n            this.credForm.controls['coursecode'].setValue(this.data.getData());    \n        }\n        this.pageLoaded = true;\n    }\n    focusInSelect(): void {\n        this.boxClass = 'box';\n    }\n    focusOutSelect(): void {\n        this.boxClass = 'box box-bg';\n    }\n    checkcode(): void {\n        \n        const coursecode = this.credForm.value.coursecode;\n        const fullname = this.credForm.value.fullname;\n        const email = this.credForm.value.email;\n        const cmnd = this.credForm.value.cmnd;\n        \n        const modal = this.domUtils.showModalLoading();\n        // Start the authentication process.\n        this.evaluateProvider.checkCourseCode(null, coursecode).then((data) => {\n            const status = Boolean(data['status']);\n            if (status == true) {\n                const detail = data['detail'];\n                this.navCtrl.push('AddonEvaluateSubmitEvaluatePage',{coursecode,fullname,email,cmnd,detail});\n            } else {\n                this.domUtils.showErrorModal(this.translate.instant('addon.evaluate.messagecoursecodeinvalid'), true);\n            }\n            \n\n        }).catch((error) => {\n            this.domUtils.showErrorModal(error, true);\n        }).finally (() => {\n            modal.dismiss();\n        });\n        return;\n    }\n    \n    /**\n     * Load the site info.\n     */\n    protected loadSiteInfo(): void {\n        this.siteName = this.sitesProvider.getCurrentSite().getInfo().sitename;\n        this.siteUrl = this.sitesProvider.getCurrentSite().getInfo().siteurl;\n    }\n    /**\n     * Component being initialized.\n     */\n    ngOnInit(): void {}\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n        this.updateSiteObserver && this.updateSiteObserver.off();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/evaluate/pages/input-info/input-info.ts"],"sourceRoot":""}