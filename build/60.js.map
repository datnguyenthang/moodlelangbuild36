{"version":3,"sources":["../../src/addon/qrscanner/pages/my-qrscanner/my-qrscanner.module.ts","../../src/addon/qrscanner/pages/my-qrscanner/my-qrscanner.ts"],"names":[],"mappings":"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","file":"60.js","sourcesContent":["// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CoreComponentsModule } from '@components/components.module';\nimport { CoreDirectivesModule } from '@directives/directives.module';\nimport { CorePipesModule } from '@pipes/pipes.module';\nimport { AddonQRScannerPage } from './my-qrscanner';\n\n\n@NgModule({\n    declarations: [\n        AddonQRScannerPage,\n    ],\n    imports: [\n        CoreComponentsModule,\n        CoreDirectivesModule,\n        CorePipesModule,\n        IonicPageModule.forChild(AddonQRScannerPage),\n        TranslateModule.forChild()\n    ],\n})\nexport class AddonQRScannerInputInfoPagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/qrscanner/pages/my-qrscanner/my-qrscanner.module.ts","// (C) Copyright 2015 Martin Dougiamas\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Component, ViewChild, OnDestroy, OnInit } from '@angular/core';\nimport { IonicPage, Searchbar, NavController, AlertController } from 'ionic-angular';\nimport { CoreUtilsProvider } from '@providers/utils/utils';\nimport { CoreSitesProvider } from '@providers/sites';\nimport { DataService } from '@providers/data.service';\nimport { CoreEventsProvider } from '@providers/events';\nimport { CoreAppProvider } from '@providers/app';\nimport { CoreTabsComponent } from '@components/tabs/tabs';\nimport { AddonQRScannerProvider } from '../../providers/qrscanner';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\n\n/**\n * Page that displays the list of calendar events.\n */\n@IonicPage({ segment: 'addon-qrscanner' })\n@Component({\n    selector: 'page-addon-my-qrscanner',\n    templateUrl: 'my-qrscanner.html',\n})\nexport class AddonQRScannerPage implements OnDestroy {\n    @ViewChild(CoreTabsComponent) tabsComponent: CoreTabsComponent;\n    ionApp: any;\n    ionicTabbar: any;\n\n    protected qrscannerProvider: AddonQRScannerProvider;\n    protected prefetchIconsInitialized = false;\n    protected isDestroyed;\n    protected updateSiteObserver;\n    \n    constructor(private utils: CoreUtilsProvider, private sitesProvider: CoreSitesProvider,\n      private eventsProvider: CoreEventsProvider, private navCtrl: NavController, appProvider: CoreAppProvider, \n      private translate: TranslateService, public alertController: AlertController, private data: DataService,\n      private barcodeScanner: BarcodeScanner) {}\n\n    ionViewWillEnter(): void {\n      this.scanQR();\n    }\n    exitPage(): void {\n      this.navCtrl.setRoot(\"CoreLoginInitPage\"); \n    }\n    scanQR(): void {\n      this.barcodeScanner.scan().then(barcodeData => {\n        this.dataHandle(barcodeData.text);\n      }).catch(err => {\n        console.log('Error', err);\n      });\n    }\n    dataHandle(data: any): void {\n      try {\n        let obj = JSON.parse(data);\n        if(this.checkDataHandle(obj)) {\n          switch (obj.type) {\n            case 'EVALUATE':\n                this.data.setData(obj.value,\"scanner\");\n                this.navCtrl.popToRoot();\n                this.navCtrl.parent.select(2);\n            break;\n            case 'COURSE':\n                this.navCtrl.push('CoreCourseSectionPage', { course: { id: obj.value } });\n            break;\n          }\n        }\n      } catch(e) {\n\n      }\n    }\n    checkDataHandle(obj: any): boolean {\n      let result = false;\n      const TeamplateData = {type: '', value: ''};\n      for(const el in obj) {\n        result = TeamplateData.hasOwnProperty(el);\n      }\n\n      return result;\n    }\n    /**\n     * Page destroyed.\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n        this.updateSiteObserver && this.updateSiteObserver.off();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/addon/qrscanner/pages/my-qrscanner/my-qrscanner.ts"],"sourceRoot":""}